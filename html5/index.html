<script src="Loader.js"></script>

<script>

	async function main() {
		response = await fetch("../build/untouched.wasm");
		buffer = await response.arrayBuffer();
			
		imports = {};
		imports.env = {};
		imports.env.memoryBase = 0;
		imports.env.tableBase = 0;
		if (!imports.env.memory) {
			imports.env.memory = new WebAssembly.Memory({ initial: 20 });
		}
		if (!imports.env.table) {
			imports.env.table = new WebAssembly.Table({ initial: 0, element: 'anyfunc' });
		}

		module = Loader.instantiateBuffer(buffer, imports);
	}

	main().then(function() {
		console.log(module.I8.length);
	});

</script>