<html>
	<head>
		<style>
			* {
				margin: 0;
				padding: 0;
			}
		
			html {
				/*background-color: #1e1e1e;*/
				/*background-color: skyblue;*/
			}
		
			body {
				/*background-color: DodgerBlue;*/
				/*color: white;*/
				/*
				
				
				*/
				width: 980px;
				margin: auto;
				padding: 10px;
				border-left:  4px solid aliceblue;
				border-right: 4px solid aliceblue;
			}
		
			textarea {
				width: 100%;
				background: transparent;
				border: 0px solid black;
				border: 0px solid black;
				border: 0px solid black;
			}

			test-js table {
				width: 100%;
				margin-bottom: 5px;
				padding: 5px;
				border-radius: 10px;
				border: 2px solid black;
				background-color: #e1e1e8;
			}
			
			test-js td {
			}
			
			test-js th {
				background-color: aliceblue;
			}
			
			.testcode {
			}
			
			.testresult {
				width: 100px;
			}
			
			.testbutton {
				width: 60px;
			}
			
			.testbutton button {
				width: 50px;
			}
		</style>
	
		<script src="Tests.js"></script>
		<script src="main.js"></script>

		<script>
			init_mathas("http://127.0.0.1/MathAS/").then(function() {
				console.log("main() called");
				tests_init();
			});
		</script>
	</head>
	<body>
		<h1>Legend</h1>
		<!--
		todo lol
		<h2>CTRL + Arrow Up: Focus previous textarea</h2>
		<h2>CTRL + Arrow Down: Focus next textarea</h2>
		-->
		<h2>CTRL + Enter: Re<i>e</i>valuate the test code</h2>

		<tests-js>
			<h1>Mat3 stuff</h1>		
			
			<test-js>
				var a = new pc.Mat3();
				a.toString() == "[1, 0, 0, 0, 1, 0, 0, 0, 1]";
			</test-js>
			
			<test-js>
				var a = new pc.Mat3();
				a.data[0] = 1;
				a.data[1] = 2;
				a.data[2] = 3;
				var b = new pc.Mat3();
				b.copy(a);
				b.toString() == "[1, 2, 3, 0, 1, 0, 0, 0, 1]";
			</test-js>
			
			<test-js>
				var a = new pc.Mat3();
				a.set([0, 1, 2, 3, 4, 5, 6, 7, 8]);
				a.toString() == "[0, 1, 2, 3, 4, 5, 6, 7, 8]";
			</test-js>
			
			<test-js>
				var a = new pc.Mat3();
				a.data[0] = 1;
				a.data[1] = 2;
				a.data[2] = 3;
				var b = new pc.Mat3();
				var c = new pc.Mat3();
				!a.equals(b) && b.equals(c);
			</test-js>
			
			<test-js>
				var a = new pc.Mat3();
				a.data[0] = 1;
				a.data[1] = 2;
				a.data[2] = 3;
				var b = new pc.Mat3();
				!a.isIdentity() && b.isIdentity();
			</test-js>
			
			<test-js>
				var a = new pc.Mat3();
				a.data[0] = 1;
				a.data[1] = 2;
				a.data[2] = 3;
				a.setIdentity();
				a.toString() == "[1, 0, 0, 0, 1, 0, 0, 0, 1]";
			</test-js>
			
			<test-js>
				var a = new pc.Mat3();
				a.set([0, 1, 2, 3, 4, 5, 6, 7, 8]);
				a.transpose();
				a.toString() == "[0, 3, 6, 1, 4, 7, 2, 5, 8]";
			</test-js>
			
			<test-js>
				pc.Mat3.IDENTITY.toString() == "[1, 0, 0, 0, 1, 0, 0, 0, 1]";
			</test-js>
			
			<test-js>
				pc.Mat3.ZERO.toString() == "[0, 0, 0, 0, 0, 0, 0, 0, 0]";
			</test-js>
			
			<test-js>
			</test-js>
		</tests-js>



		<tests-js>
			<h1>Mat4 stuff</h1>
			
			<test-js>
				pc.Mat4.IDENTITY.toString() == "[1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]";
			</test-js>
			
			<test-js>
				pc.Mat4.ONE.toString() == "[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]";
			</test-js>
			
			<test-js>
				pc.Mat4.ZERO.toString() == "[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]";
			</test-js>
			
			<test-js>
				var a = new pc.Mat4();
				a.toString() == "[1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]";
			</test-js>
			
			<test-js>
				var a = new pc.Mat4();
				a.add(pc.Mat4.ONE);
				a.toString() == "[2, 1, 1, 1, 1, 2, 1, 1, 1, 1, 2, 1, 1, 1, 1, 2]";
			</test-js>
			
			<test-js>
				var m = new pc.Mat4();
				m.add2(pc.Mat4.IDENTITY, pc.Mat4.ONE);
				m.toString() == "[2, 1, 1, 1, 1, 2, 1, 1, 1, 1, 2, 1, 1, 1, 1, 2]";
			</test-js>
			
			<test-js>
				var a = new pc.Mat4().setFromEulerAngles(10, 20, 30);
				var b = a.clone();
				var c = new pc.Mat4();
				a.equals(b) && !b.equals(c);
			</test-js>
			
			<test-js>
				var a = new pc.Mat4().setFromEulerAngles(10, 20, 30);
				var b = new pc.Mat4();
				b.copy(a);
				a.equals(b);
			</test-js>
			
			<test-js>
				var a = new pc.Mat4().setFromEulerAngles(10, 20, 30);
				var b = new pc.Mat4();
				!a.equals(b) && a.equals(a);
			</test-js>

			<test-js>
				// Create a 4x4 rotation matrix of 45 degrees around the y-axis
				var m = new pc.Mat4().setFromAxisAngle(pc.Vec3.UP, 45);
				var eulers = m.getEulerAngles();
				eulers.toStringFixed(4) == "[0.0000, 45.0000, 0.0000]";
			</test-js>

			<test-js>
				var m = new pc.Mat4().setScale(2, 3, 4);
				m.getScale().toString() == "[2, 3, 4]";
			</test-js>
			
			<test-js>
				var m = new pc.Mat4().setTranslate(2, 3, 4);
				var t = new pc.Vec3();
				m.getTranslation(t).toString() == "[2, 3, 4]";
			</test-js>
			
			<test-js>
				var m = new pc.Mat4();
				var x = new pc.Vec3();
				m.getX(x).toString() == "[1, 0, 0]";
			</test-js>
			
			<test-js>
				var m = new pc.Mat4();
				var y = new pc.Vec3();
				m.getY(y).toString() == "[0, 1, 0]";
			</test-js>
			
			<test-js>
				var m = new pc.Mat4();
				var z = new pc.Vec3();
				m.getZ(z).toString() == "[0, 0, 1]";
			</test-js>
			
			<test-js>
				// Create a 4x4 rotation matrix of 180 degrees around the y-axis
				var rot = new pc.Mat4().setFromAxisAngle(pc.Vec3.UP, 179);
				// Invert in place
				rot.invert();
				rot.toStringFixed(4) == "[-0.9998, 0.0000, 0.0175, 0.0000, 0.0000, 1.0000, 0.0000, 0.0000, -0.0175, 0.0000, -0.9998, 0.0000, 0.0000, 0.0000, 0.0000, 1.0000]";
			</test-js>
			
			<test-js>
				var mat4 = new pc.Mat4().setFromAxisAngle(pc.Vec3.UP, 179);
				var mat3 = new pc.Mat3();
				mat4.invertTo3x3(mat3);
				mat3.toStringFixed(4) == "[-0.9998, 0.0000, 0.0175, 0.0000, 1.0000, 0.0000, -0.0175, 0.0000, -0.9998]";
			</test-js>
			
			<test-js>
				var a = new pc.Mat4();
				a.isIdentity() && !pc.Mat4.ONE.isIdentity();
			</test-js>
			
			<test-js>
				var a = new pc.Mat4().setFromEulerAngles(10, 20, 30);
				var b = new pc.Mat4().setFromAxisAngle(pc.Vec3.UP, 180);
				a.mul(b); // a = a * b
				a.toStringFixed(2) == "[-0.81, -0.47, 0.34, 0.00, -0.44, 0.88, 0.16, 0.00, -0.38, -0.02, -0.93, 0.00, 0.00, 0.00, 0.00, 1.00]";
			</test-js>
			
			<test-js>
				var a = new pc.Mat4().setFromEulerAngles(10, 20, 30);
				var b = new pc.Mat4().setFromAxisAngle(pc.Vec3.UP, 180);
				var r = new pc.Mat4();
				r.mul2(a, b); // r = a * b
				r.toStringFixed(2) == "[-0.81, -0.47, 0.34, 0.00, -0.44, 0.88, 0.16, 0.00, -0.38, -0.02, -0.93, 0.00, 0.00, 0.00, 0.00, 1.00]";
			</test-js>
			
			<test-js>
				var a = new pc.Mat4().setFromAxisAngle(pc.Vec3.UP, 85);
				a.toStringFixed(1) == "[0.1, 0.0, -1.0, 0.0, 0.0, 1.0, 0.0, 0.0, 1.0, 0.0, 0.1, 0.0, 0.0, 0.0, 0.0, 1.0]";
			</test-js>
			
			<test-js>
				var m = new pc.Mat4();
				m.setFromEulerAngles(45, 90, 180);
				m.toStringFixed(2) == "[0.00, 0.00, -1.00, 0.00, -0.71, -0.71, -0.00, 0.00, -0.71, 0.71, -0.00, 0.00, 0.00, 0.00, 0.00, 1.00]";
			</test-js>
			
			<test-js>
				var a = new pc.Mat4().setFrustum(-2, 2, -1, 1, 1, 1000);
				a.toStringFixed(2) == "[0.50, 0.00, 0.00, 0.00, 0.00, 1.00, 0.00, 0.00, 0.00, 0.00, -1.00, -1.00, 0.00, 0.00, -2.00, 0.00]";
			</test-js>
			
			<test-js>
				var a = new pc.Mat4();
				a.copy(pc.Mat4.ONE);
				a.setIdentity();
				a.isIdentity();
			</test-js>
			
			<test-js>
				var position = new pc.Vec3(10, 10, 10);
				var target = new pc.Vec3(0, 0, 0);
				var up = new pc.Vec3(0, 1, 0);
				var m = new pc.Mat4().setLookAt(position, target, up);
				m.toStringFixed(4) == "[0.7071, 0.0000, -0.7071, 0.0000, -0.4082, 0.8165, -0.4082, 0.0000, 0.5774, 0.5774, 0.5774, 0.0000, 10.0000, 10.0000, 10.0000, 1.0000]";
			</test-js>
			
			<test-js>
				var a = new pc.Mat4().setOrtho(-2, 2, -2, 2, 1, 1000);
				a.toStringFixed(4) == "[0.5000, 0.0000, 0.0000, 0.0000, 0.0000, 0.5000, 0.0000, 0.0000, 0.0000, 0.0000, -0.0020, 0.0000, 0.0000, 0.0000, -1.0020, 1.0000]";
			</test-js>
			
			<test-js>
				var a = new pc.Mat4().setPerspective(45, 16 / 9, 1, 1000);
				a.toStringFixed(4) == "[1.3580, 0.0000, 0.0000, 0.0000, 0.0000, 2.4142, 0.0000, 0.0000, 0.0000, 0.0000, -1.0020, -1.0000, 0.0000, 0.0000, -2.0020, 0.0000]";
			</test-js>
			
			<test-js>
				var a = new pc.Mat4().setScale(10, 10, 10);
				a.toString() == "[10, 0, 0, 0, 0, 10, 0, 0, 0, 0, 10, 0, 0, 0, 0, 1]";
			</test-js>
			
			<test-js>
				var a = new pc.Mat4().setTranslate(10, 10, 10);
				a.toString() == "[1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 10, 10, 10, 1]";
			</test-js>
			
			<test-js>
				var v = new pc.Vec3(1, 2, 3);
				var rm = new pc.Mat4().setFromEulerAngles(10, 20, 30);
				var tv = rm.transformPoint(v);
				tv.toStringFixed(4) == "[1.0674, 2.2891, 2.7606]";
			</test-js>
			
			<test-js>
				var v = new pc.Vec4(1, 2, 3, 4);
				var result = new pc.Vec4();
				var rm = new pc.Mat4().setFromEulerAngles(10, 20, 30);
				rm.transformVec4(v, result);
				result.toStringFixed(4) == "[1.0674, 2.2891, 2.7606, 4.0000]";
			</test-js>
			
			<test-js>
				var v = new pc.Vec3(1, 2, 3);
				var rm = new pc.Mat4().setFromEulerAngles(10, 20, 30);
				var tv = rm.transformVector(v);
				tv.toStringFixed(4) == "[1.0674, 2.2891, 2.7606]";
			</test-js>
			
			<test-js>
				var rm = new pc.Mat4().setFromEulerAngles(10, 20, 30);
				rm.transpose();
				rm.toStringFixed(4) == "[0.8138, -0.4410, 0.3785, 0.0000, 0.4698, 0.8826, 0.0180, 0.0000, -0.3420, 0.1632, 0.9254, 0.0000, 0.0000, 0.0000, 0.0000, 1.0000]";
			</test-js>
			
			<test-js>
			
			</test-js>
			
			<test-js>
			
			</test-js>
		</tests-js>



		<tests-js>
			<h1>Quat stuff</h1>
			
			<test-js>
				var a = new pc.Quat(0.1, 0.2, 0.3, 0.4);
				a.toStringFixed(4) == "[0.1000, 0.2000, 0.3000, 0.4000]";
			</test-js>
			
			<test-js>
				var a = new pc.Quat(0.1, 0.2, 0.3, 0.4);
				var b = new pc.Quat(0.1, 0.2, 0.3, 0.4);
				var c = new pc.Quat();
				a.equals(b) && !a.equals(c);
			</test-js>
			
			<test-js>
				var a = new pc.Quat(0.1, 0.2, 0.3, 0.4);
				a.conjugate();
				a.toStringFixed(4) == "[-0.1000, -0.2000, -0.3000, 0.4000]";
			</test-js>
			
			<test-js>
				var q = new pc.Quat(0.1, 0.2, 0.3, 0.4);
				var v = new pc.Vec3();
				var angle = q.getAxisAngle(v);
				angle.toFixed(4) == "132.8436";
			</test-js>
			
			<test-js>
				var q = new pc.Quat();
				q.setFromAxisAngle(new pc.Vec3(0, 1, 0), 90);
				var v = new pc.Vec3();
				var angle = q.getAxisAngle(v);
				angle == 90 && v.toString() == "[0, 1, 0]";
			</test-js>
			
			<test-js>
				var q = new pc.Quat(0.1, 0.2, 0.3, 0.4);
				var v = new pc.Vec3();
				q.getEulerAngles(v)
				v.toStringFixed(4) == "[12.5288, 5.7392, 20.7256]";
			</test-js>
			
			<test-js>
				var a = new pc.Quat(0.1, 0.2, 0.3, 0.4);
				a.invert();
				a.toStringFixed(4) == "[-0.1826, -0.3651, -0.5477, 0.7303]";
			</test-js>
			
			<test-js>
				var a = new pc.Quat(0.1, 0.2, 0.3, 0.4);
				a.length().toFixed(4) == 0.5477;
			</test-js>
			
			<test-js>
				var a = new pc.Quat(0.1, 0.2, 0.3, 0.4);
				a.lengthSq().toFixed(4) == "0.3000";
			</test-js>
			
			<test-js>
				var a = new pc.Quat().setFromEulerAngles(0, 10, 0);
				var b = new pc.Quat().setFromEulerAngles(0, 20, 0);
				a.mul(b);
				var v = new pc.Vec3();
				a.getEulerAngles(v);
				v.toStringFixed(4) == "[0.0000, 30.0000, 0.0000]";
			</test-js>
			
			<test-js>
				var a = new pc.Quat().setFromEulerAngles(0, 10, 0);
				var b = new pc.Quat().setFromEulerAngles(0, 20, 0);
				var c = new pc.Quat();
				c.mul2(a, b);
				var v = new pc.Vec3();
				c.getEulerAngles(v);
				v.toStringFixed(4) == "[0.0000, 30.0000, 0.0000]";
			</test-js>
			
			<test-js>
				var a = new pc.Quat(0.1, 0.2, 0.3, 0.4);
				a.normalize();
				a.toStringFixed(4) == "[0.1826, 0.3651, 0.5477, 0.7303]";
			</test-js>
			
			<test-js>
				var a = new pc.Quat(0.1, 0.2, 0.3, 0.4);
				a.set(1, 2, 3, 4);
				a.toString(4) == "[1, 2, 3, 4]";
			</test-js>
			
			<test-js>
				var q = new pc.Quat();
				q.setFromAxisAngle(new pc.Vec3(0, 1, 0), 90);
				q.toStringFixed(4) == "[0.0000, 0.7071, 0.0000, 0.7071]";
			</test-js>
			
			<test-js>
				var q = new pc.Quat();
				q.setFromEulerAngles(45, 90, 180);
				q.toStringFixed(4) == "[-0.6533, 0.2706, 0.6533, 0.2706]";
			</test-js>
			
			<test-js>
				// Create a 4x4 rotation matrix of 180 degrees around the y-axis
				var rot = new pc.Mat4().setFromAxisAngle(pc.Vec3.UP, 179);
				// Convert to a quaternion
				var q = new pc.Quat().setFromMat4(rot);
				q.toStringFixed(4) == "[0.0000, 1.0000, 0.0000, 0.0087]";
			</test-js>
			
			<test-js>
				var q1 = new pc.Quat(-0.11,-0.15,-0.46,0.87);
				var q2 = new pc.Quat(-0.21,-0.21,-0.67,0.68);
				var a = new pc.Quat().slerp(q1, q2, 0);   // equals q1
				var b = new pc.Quat().slerp(q1, q2, 0.5); // midpoint interpolant
				var c = new pc.Quat().slerp(q1, q2, 1);   // equals q2
				a.toStringFixed(4) == q1.toStringFixed(4) &&
				c.toStringFixed(4) == q2.toStringFixed(4) &&
				b.toStringFixed(4) == "[-0.1619, -0.1821, -0.5716, 0.7840]";
			</test-js>
			
			<test-js>
				var v = new pc.Vec3(1, 2, 3);
				var q = new pc.Quat().setFromEulerAngles(10, 20, 30);
				var tv = q.transformVector(v);
				tv.toStringFixed(4) == "[1.0674, 2.2891, 2.7606]";
			</test-js>
			
			<test-js></test-js>
		</tests-js>



		<tests-js>
			<h1>Vec2 stuff</h1>
			
			<test-js>
				pc.Vec2.ONE.toString() == "[1, 1]";
			</test-js>
			
			<test-js>
				pc.Vec2.LEFT.toString() == "[-1, 0]";
			</test-js>
			
			<test-js>
				pc.Vec2.RIGHT.toString() == "[1, 0]";
			</test-js>
			
			<test-js>
				pc.Vec2.UP.toString() == "[0, 1]";
			</test-js>
			
			<test-js>
				pc.Vec2.DOWN.toString() == "[0, -1]";
			</test-js>
			
			<test-js>
				pc.Vec2.ZERO.toString() == "[0, 0]";
			</test-js>
			
			<test-js>
				var v = new pc.Vec2(1, 2);
				v.toString() == "[1, 2]";
			</test-js>
			
			<test-js>
				var a = new pc.Vec2(1, 2);
				var b = new pc.Vec2(11, 22);
				a.add(b);
				a.toString() == "[12, 24]";
			</test-js>
			
			<test-js>
				var a = new pc.Vec2(1, 2);
				var b = new pc.Vec2(11, 22);
				var c = (new pc.Vec2()).add2(a, b);
				c.toString() == "[12, 24]";
			</test-js>
			
			<test-js>
				var a = new pc.Vec2(1, 2);
				var b = a.clone();
				a.toString() == b.toString();
			</test-js>
			
			<test-js>
				var a = new pc.Vec2(1, 2);
				var b = new pc.Vec2();
				b.copy(a);
				a.toString() == b.toString();
			</test-js>
			
			<test-js>
				var a = new pc.Vec2(1, 2);
				var b = new pc.Vec2(11, 22);
				a.dot(b) == 55;
			</test-js>
			
			<test-js>
				var a = new pc.Vec2(1, 1);
				var b = new pc.Vec2(1, 2);
				var c = new pc.Vec2(2, 1);
				var d = new pc.Vec2(2, 2);
				var all = [a, b, c, d];
				var tests = "";
				for (var i of all) {
					for (var j of all) {
						if (i.equals(j))
							tests += "1";
						else
							tests += "0";
					}
				}
				tests == "1000010000100001";
			</test-js>

			<test-js>
				var a = new pc.Vec2(1, 2)
				a.length().toFixed(4) == "2.2361";
			</test-js>

			<test-js>
				var a = new pc.Vec2(1, 2)
				a.lengthSq() == 5
			</test-js>

			<test-js>
				var a = new pc.Vec2(1, 2);
				var b = new pc.Vec2(11, 22);
				var c = new pc.Vec2();
				c.lerp(a, b, 0.9);
				c.toString() == "[10, 20]";
			</test-js>

			<test-js>
				var a = new pc.Vec2(1, 2);
				var b = new pc.Vec2(11, 22);
				a.mul(b);
				a.toString() == "[11, 44]";
			</test-js>

			<test-js>
				var a = new pc.Vec2(1, 2);
				var b = new pc.Vec2(11, 22);
				var c = (new pc.Vec2()).mul2(a, b);
				c.toString() == "[11, 44]";
			</test-js>		
			
			<test-js>
				var a = new pc.Vec2(1,2);
				var b = new pc.Vec2(2,1);
				a.normalize();
				b.normalize();
				a.length() == b.length();
			</test-js>
			
			<test-js>
				var a = new pc.Vec2(1,2);
				a.scale(2).toString() == "[2, 4]";
			</test-js>
			
			<test-js>
				var a = new pc.Vec2();
				a.set(1, 2);
				a.toString() == "[1, 2]";
			</test-js>
			
			<test-js>
				var a = new pc.Vec2(1, 2);
				var b = new pc.Vec2(11, 22);
				a.sub(b);
				a.toString() == "[-10, -20]";
			</test-js>
			
			<test-js>
				var a = new pc.Vec2(1, 2);
				var b = new pc.Vec2(11, 22);
				var c = (new pc.Vec2()).sub2(a, b);
				c.toString() == "[-10, -20]";
			</test-js>
			
			<test-js></test-js>
		</tests-js>



		<tests-js>
			<h1>Vec3 stuff</h1>

			<test-js>
				pc.Vec3.BACK.toString() == "[0, 0, 1]";
			</test-js>
			
			<test-js>
				pc.Vec3.DOWN.toString() == "[0, -1, 0]";
			</test-js>
			
			<test-js>
				pc.Vec3.FORWARD.toString() == "[0, 0, -1]";
			</test-js>
			
			<test-js>
				pc.Vec3.LEFT.toString() == "[-1, 0, 0]";
			</test-js>
			
			<test-js>
				pc.Vec3.ONE.toString() == "[1, 1, 1]";
			</test-js>
			
			<test-js>
				pc.Vec3.RIGHT.toString() == "[1, 0, 0]";
			</test-js>
			
			<test-js>
				pc.Vec3.UP.toString() == "[0, 1, 0]";
			</test-js>
			
			<test-js>
				pc.Vec3.ZERO.toString() == "[0, 0, 0]";
			</test-js>

			<test-js>
				var v = new pc.Vec3(1, 2, 3);
				v.toString() == "[1, 2, 3]";
			</test-js>

			<test-js>
				var a = new pc.Vec3(1, 2, 3);
				var b = new pc.Vec3(11, 22, 33);
				a.add(b);
				a.toString() == "[12, 24, 36]";
			</test-js>

			<test-js>
				var a = new pc.Vec3(1, 2, 3);
				var b = new pc.Vec3(11, 22, 33);
				var c = (new pc.Vec3()).add2(a, b);
				c.toString() == "[12, 24, 36]";
			</test-js>

			<test-js>
				var a = new pc.Vec3(1, 2, 3);
				var b = a.clone();
				a.toString() == b.toString();
			</test-js>

			<test-js>
				var a = new pc.Vec3(1, 2, 3);
				var b = new pc.Vec3();
				b.copy(a);
				a.toString() == b.toString();
			</test-js>

			<test-js>
				var a = new pc.Vec3(1, 0, 0);
				var b = new pc.Vec3(0, 1, 0);
				var c = new pc.Vec3();
				c.cross(a, b);
				c.toString() == "[0, 0, 1]";
			</test-js>

			<test-js>
				var a = new pc.Vec3(1, 2, 2);
				var b = new pc.Vec3(11, 22, 33);
				a.dot(b) == 121;
			</test-js>

			<test-js>
				// copied from pc.Vec2, not testing last argument via permutation
				var a = new pc.Vec3(1, 1, 0);
				var b = new pc.Vec3(1, 2, 0);
				var c = new pc.Vec3(2, 1, 0);
				var d = new pc.Vec3(2, 2, 0);
				var all = [a, b, c, d];
				var tests = "";
				for (var i of all) {
					for (var j of all) {
						if (i.equals(j))
							tests += "1";
						else
							tests += "0";
					}
				}
				tests == "1000010000100001";
			</test-js>
			
			<test-js>
				var a = new pc.Vec3(1, 2, 3)
				// fails: a.length().toFixed(4) == "3.7416";
				a.length().toFixed(3) == "3.742";
			</test-js>
			
			<test-js>
				var a = new pc.Vec3(1, 2, 3)
				a.lengthSq() == 14;
			</test-js>
			
			<test-js>
				var a = new pc.Vec3(1, 2, 3);
				var b = new pc.Vec3(11, 22, 33);
				var c = new pc.Vec3();
				c.lerp(a, b, 0.9);
				c.toString() == "[10, 20, 30]";
			</test-js>

			<test-js>
				var a = new pc.Vec3(1, 2, 3);
				var b = new pc.Vec3(11, 22, 33);
				a.mul(b);
				a.toString() == "[11, 44, 99]";
			</test-js>

			<test-js>
				var a = new pc.Vec3(1, 2, 3);
				var b = new pc.Vec3(11, 22, 33);
				var c = (new pc.Vec3()).mul2(a, b);
				c.toString() == "[11, 44, 99]";
			</test-js>		

			<test-js>
				var a = new pc.Vec3(1, 2, 3);
				var b = new pc.Vec3(3, 2, 1);
				a.normalize();
				b.normalize();
				a.length() == b.length();
			</test-js>

			<test-js>
				// copied from pc.Vec2, not testing last argument via permutation
				var a = new pc.Vec3(2, 3, 4);
				var b = new pc.Vec3(10, 10, 10);
				a.project(b);
				a.toString() == "[3, 3, 3]";
			</test-js>

			<test-js>
				var a = new pc.Vec3(1, 2, 3);
				a.scale(2).toString() == "[2, 4, 6]";
			</test-js>
			
			<test-js>
				var a = new pc.Vec3();
				a.set(1, 2, 3);
				a.toString() == "[1, 2, 3]";
			</test-js>

			<test-js>
				var a = new pc.Vec3(1, 2, 3);
				var b = new pc.Vec3(11, 22, 33);
				a.sub(b);
				a.toString() == "[-10, -20, -30]";
			</test-js>

			<test-js>
				var a = new pc.Vec3(1, 2, 3);
				var b = new pc.Vec3(11, 22, 33);
				var c = (new pc.Vec3()).sub2(a, b);
				c.toString() == "[-10, -20, -30]";
			</test-js>

			<test-js></test-js>
		</tests-js>



		<tests-js>
			<h1>Vec4 stuff</h1>

			<test-js>
				pc.Vec4.ONE.toString() == "[1, 1, 1, 1]";
			</test-js>

			<test-js>
				pc.Vec4.ZERO.toString() == "[0, 0, 0, 0]";
			</test-js>
			
			<test-js>
				var v = new pc.Vec4(1, 2, 3, 4);
				v.toString() == "[1, 2, 3, 4]";
			</test-js>

			<test-js>
				var a = new pc.Vec4(1, 2, 3, 4);
				var b = new pc.Vec4(11, 22, 33, 44);
				a.add(b);
				a.toString() == "[12, 24, 36, 48]";
			</test-js>

			<test-js>
				var a = new pc.Vec4(1, 2, 3, 4);
				var b = new pc.Vec4(11, 22, 33, 44);
				var c = (new pc.Vec4()).add2(a, b);
				c.toString() == "[12, 24, 36, 48]";
			</test-js>

			<test-js>
				var a = new pc.Vec4(1, 2, 3, 4);
				var b = a.clone();
				a.toString() == b.toString();
			</test-js>

			<test-js>
				var a = new pc.Vec4(1, 2, 3, 4);
				var b = new pc.Vec4();
				b.copy(a);
				a.toString() == b.toString();
			</test-js>

			<test-js>
				var a = new pc.Vec4(1, 2, 3, 4);
				var b = new pc.Vec4(11, 22, 33, 44);
				a.dot(b) == 330;
			</test-js>

			<test-js>
				var a = new pc.Vec4(1, 1, 0, 0);
				var b = new pc.Vec4(1, 2, 0, 0);
				var c = new pc.Vec4(2, 1, 0, 0);
				var d = new pc.Vec4(2, 2, 0, 0);
				var all = [a, b, c, d];
				var tests = "";
				for (var i of all) {
					for (var j of all) {
						if (i.equals(j))
							tests += "1";
						else
							tests += "0";
					}
				}
				tests == "1000010000100001";
			</test-js>

			<test-js>
				var a = new pc.Vec4(1, 2, 3, 4)
				a.length().toFixed(4) == "5.4772";
			</test-js>

			<test-js>
				var a = new pc.Vec4(1, 2, 3, 4)
				a.lengthSq() == 30;
			</test-js>

			<test-js>
				var a = new pc.Vec4(1, 2, 3, 4);
				var b = new pc.Vec4(11, 22, 33, 44);
				var c = new pc.Vec4();
				c.lerp(a, b, 0.9);
				c.toString() == "[10, 20, 30, 40]";
			</test-js>

			<test-js>
				var a = new pc.Vec4(1, 2, 3, 4);
				var b = new pc.Vec4(11, 22, 33, 44);
				a.mul(b);
				a.toString() == "[11, 44, 99, 176]";
			</test-js>

			<test-js>
				var a = new pc.Vec4(1, 2, 3, 4);
				var b = new pc.Vec4(11, 22, 33, 44);
				var c = (new pc.Vec4()).mul2(a, b);
				c.toString() == "[11, 44, 99, 176]";
			</test-js>		
			
			<test-js>
				var a = new pc.Vec4(1, 2, 3, 4);
				var b = new pc.Vec4(4, 3, 2, 1);
				a.normalize();
				b.normalize();
				a.length() == b.length();
			</test-js>
			
			<test-js>
				var a = new pc.Vec4(1, 2, 3, 4);
				a.scale(2).toString() == "[2, 4, 6, 8]";
			</test-js>
			
			<test-js>
				var a = new pc.Vec4();
				a.set(1, 2, 3, 4);
				a.toString() == "[1, 2, 3, 4]";
			</test-js>
			
			<test-js>
				var a = new pc.Vec4(1, 2, 3, 4);
				var b = new pc.Vec4(11, 22, 33, 44);
				a.sub(b);
				a.toString() == "[-10, -20, -30, -40]";
			</test-js>
			
			<test-js>
				var a = new pc.Vec4(1, 2, 3, 4);
				var b = new pc.Vec4(11, 22, 33, 44);
				var c = (new pc.Vec4()).sub2(a, b);
				c.toString() == "[-10, -20, -30, -40]";
			</test-js>
			
			<test-js></test-js>
		</tests-js>

	</body>
</html>
